@page
@model Spoonful.Pages.Menu.MenuItemModel
@{
}
<link href="~/css/Menu.css" rel="stylesheet">
<main>
	<div class="page_header blog element_to_stick">
		<div class="container">
			<div class="row">
				<div class="col-xl-8 col-lg-7 col-md-7 d-none d-md-block">
					<a class="btn btn-primary" href="/Menu" role="button" style="margin-bottom:20px; "><i class="fa-solid fa-arrow-left"></i> Back To Weekly Menu</a>
					
					<br />
				</div>
				<div class="col-xl-4 col-lg-5 col-md-5">
				</div>
			</div>
			<!-- /row -->
		</div>
	</div>
	<!-- /page_header -->

	<div class="container margin_60_20">
		<div class="row">
			<div class="col-lg-9">
				<div class="singlepost">
					<figure><img alt="" class="img-fluid" src="@Model.MyMenuItem.ImageURL" style="width:950px; height:450px; object-fit:cover"></figure>
					<h1>@Model.MyMenuItem.Name</h1>
					<div class="postmeta">
						<ul>
							<li><a href="#"><i class="icon_folder-alt"></i>@Model.MyMenuItem.Category</a> - @Model.MyMenuItem.MenuPreference</li>
							@foreach (var x in Model.MyMenuItem.Tags.Split(","))
							{
								<li style="display:inline-block; margin-top:10px;"><span class="badge rounded-pill bg-info text-dark">@x</span></li>
							}


						</ul>
					</div>
					<!-- /post meta -->
					<div class="post-content">

						<p>@Model.MyMenuItem.Description</p>
					</div>
					<!-- /post -->
				</div>
				<!-- /single-post -->





			</div>
			<!-- /col -->
			@*

			
			<aside class="col-lg-3">
				<div class="widget">
					<div class="widget-title first">
						<h4>Latest Post</h4>
					</div>
					<ul class="comments-list">
						<li>
							<div class="alignleft">
								<a href="#0"><img src="/images/img/blog-5.jpg" alt=""></a>
							</div>
							<small>Category - 11.08.2016</small>
							<h3><a href="#" title="">Verear qualisque ex minimum...</a></h3>
						</li>
						<li>
							<div class="alignleft">
								<a href="#0"><img src="/images/img/blog-6.jpg" alt=""></a>
							</div>
							<small>Category - 11.08.2016</small>
							<h3><a href="#" title="">Verear qualisque ex minimum...</a></h3>
						</li>
						<li>
							<div class="alignleft">
								<a href="#0"><img src="/images/img/blog-4.jpg" alt=""></a>
							</div>
							<small>Category - 11.08.2016</small>
							<h3><a href="#" title="">Verear qualisque ex minimum...</a></h3>
						</li>
					</ul>
				</div>
				<!-- /widget -->
				<div class="widget">
					<div class="widget-title">
						<h4>Categories</h4>
					</div>
					<ul class="cats">
						<li><a href="#">Food <span>(12)</span></a></li>
						<li><a href="#">Places to visit <span>(21)</span></a></li>
						<li><a href="#">New Places <span>(44)</span></a></li>
						<li><a href="#">Suggestions and guides <span>(31)</span></a></li>
					</ul>
				</div>
				<!-- /widget -->
				<div class="widget">
					<div class="widget-title">
						<h4>Popular Tags</h4>
					</div>
					<div class="tags">
						<a href="#">Food</a>
						<a href="#">Bars</a>
						<a href="#">Cooktails</a>
						<a href="#">Shops</a>
						<a href="#">Best Offers</a>
						<a href="#">Transports</a>
						<a href="#">Restaurants</a>
					</div>
				</div>
				<!-- /widget -->
			</aside>
			<!-- /aside -->
			*@
		</div>
		<!-- /row -->
	</div>
	<!-- /container -->

</main>
<!-- /main -->
@*<script>
    $(document).ready(function () {
        var sku = $("#productSku").val()
        var ele = $(".wishlist")
        var total_reviews = $("#total_reviews").val()
        $.ajax({
            url: "/reviewUpdate",
            method: 'POST',
            contentType: "application/json",
            data: JSON.stringify({ sku: sku, status: "details" }),
            success: function (res) {
                var avgrating = res.starAvg
                var roundedrating = res.roundedAvg
                var reviewContainer = document.getElementById('stars')
                var one = res.one
                var two = res.two
                var three = res.three
                var four = res.four
                var five = res.five
                var int = Math.floor(roundedrating)
                var stars = reviewContainer.getElementsByClassName('review-star')
                var n = 0
                for (var i = 0; i < int; i++) {
                    var star = stars[i]
                    star.classList.add('bxs-star')
                    n++
                }
                if (roundedrating > int && int <= 5) {
                    var star = stars[n]
                    star.classList.add("bxs-star-half")
                }
                for (var y = 5; y >= 1; y--) {
                    var rate = "rate" + y
                    var barContainer = document.getElementById(rate)
                    var bar = barContainer.getElementsByClassName('bar')
                    if (y == 5) {
                        var percent = (five / total_reviews) * 100
                    } else if (y == 4) {
                        var percent = (four / total_reviews) * 100
                    } else if (y == 3) {
                        var percent = (three / total_reviews) * 100
                    } else if (y == 2) {
                        var percent = (two / total_reviews) * 100
                    } else if (y == 1) {
                        var percent = (one / total_reviews) * 100
                    }
                    if (isNaN(percent)) percent = 0
                    percent = percent.toFixed(2)
                    bar[0].dataset.perc = percent
                    bar[0].style.width = `${bar[0].dataset.perc}%`
                    barContainer.getElementsByClassName("percent")[0].innerHTML = percent + "%"
                }
            }
        })
        var starContainer = document.getElementsByClassName("reviews")
        console.log(starContainer[0])
        for (i = 0; i < starContainer.length; i++) {
            var rstars = starContainer[i].getElementsByClassName('review-star')
            var stars_given = starContainer[i].getElementsByClassName('stars')[0].value
            for (n = 0; n < stars_given; n++) {
                var star = rstars[n]
                star.classList.add('bxs-star')
            }
        }
    })
</script>*@