@page
@model Spoonful.Pages.MailSubscriptions.IndexModel
@using Spoonful.Settings
@using Microsoft.AspNetCore.Identity
@using Spoonful.Models
@using Microsoft.Extensions.Options
@inject UserManager<CustomerUser> UserManager
@inject Spoonful.Models.AuthDbContext _context
@{
    var user = await UserManager.GetUserAsync(User);
    MailSubscription? success = _context.mailsubsciption.FirstOrDefault(x => x.email.Equals(user.Email));
    if (success == null){
        var i = 1;
    }
    else if (success.Subscriptiontype == "Basic"){
        var i = 2;
    }
    else {
        var i = 3;
    }

}
<style>
    .pricing6 {
        font-family: "Montserrat", sans-serif;
        color: #8d97ad;
        font-weight: 300;
    }

        .pricing6 h1,
        .pricing6 h2,
        .pricing6 h3,
        .pricing6 h4,
        .pricing6 h5,
        .pricing6 h6 {
            color: #3e4555;
        }

        .pricing6 .font-weight-medium {
            font-weight: 500;
        }

        .pricing6 .bg-light {
            background-color: #f4f8fa !important;
        }

        .pricing6 h5 {
            line-height: 22px;
            font-size: 18px;
        }

        .pricing6 .subtitle {
            color: #8d97ad;
            line-height: 24px;
        }

        .pricing6 .card.card-shadow {
            -webkit-box-shadow: 0px 0px 30px rgba(115, 128, 157, 0.1);
            box-shadow: 0px 0px 30px rgba(115, 128, 157, 0.1);
        }

        .pricing6 .price-box sup {
            top: -20px;
            font-size: 16px;
        }

        .pricing6 .price-box .display-5 {
            line-height: 58px;
            font-size: 3rem;
        }

        .pricing6 .btn-info-gradiant {
            background: #188ef4;
            background: -webkit-linear-gradient(legacy-direction(to right), #188ef4 0%, #316ce8 100%);
            background: -webkit-gradient(linear, left top, right top, from(#188ef4), to(#316ce8));
            background: -webkit-linear-gradient(left, #188ef4 0%, #316ce8 100%);
            background: -o-linear-gradient(left, #188ef4 0%, #316ce8 100%);
            background: linear-gradient(to right, #188ef4 0%, #316ce8 100%);
        }

            .pricing6 .btn-info-gradiant:hover {
                background: #316ce8;
                background: -webkit-linear-gradient(legacy-direction(to right), #316ce8 0%, #188ef4 100%);
                background: -webkit-gradient(linear, left top, right top, from(#316ce8), to(#188ef4));
                background: -webkit-linear-gradient(left, #316ce8 0%, #188ef4 100%);
                background: -o-linear-gradient(left, #316ce8 0%, #188ef4 100%);
                background: linear-gradient(to right, #316ce8 0%, #188ef4 100%);
            }

        .pricing6 .btn-md {
            padding: 15px 45px;
            font-size: 16px;
        }

        .pricing6 .text-info {
            color: #188ef4 !important;
        }

        .pricing6 .badge-danger {
            background-color: #ff4d7e;
        }

        .pricing6 .font-14 {
            font-size: 14px;
        }

</style>

<div class="pricing6 py-5 bg-light">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 text-center">
                <h3 class="mb-3">Take control of your diet with our help today!</h3>
                <h6 class="subtitle font-weight-normal">We offer 100% satisafaction and Money back Guarantee</h6>
            </div>
        </div>
        <!-- row  -->
        <div class="row mt-4">
            <!-- column  -->
            <div class="col-md-6">
                <div class="card card-shadow border-0 mb-4">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center">
                            <h5 class="font-weight-medium mb-0">Basic Plan</h5>
                        </div>
                        <div class="row">
                            <div class="col-lg-5 text-center">
                                <div class="price-box my-3">
                                    <sup>$</sup><span class="text-dark display-5">0</span>
                                    <h6 class="font-weight-light">MONTHLY</h6>
                                    @if (success.Subscriptiontype == "Basic")
                                    {
                                        <a class="btn green-btn-full-confirmed border-0 font-14 text-white p-3 btn-block mt-3" style="width:100%; opacity: 0.5;">CURRENTLY ACTIVE<i class="bi bi-check2-square"></i></a>

                                    }
                                    else{
                                        <a class="btn green-btn-full-confirmed border-0 font-14 text-white p-3 btn-block mt-3" style="width:100%" asp-page="/MailSubscriptions/basic">CHOOSE PLAN </a>

                                    }
                                </div>
                            </div>
                            <div class="col-lg-7 align-self-center">
                                <ul class="list-inline pl-3 font-14 font-weight-medium text-dark">
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Upcoming Value Deals </span></li>
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Discount Codes</span></li>
                                    <li class="py-2"><i class="bi bi-x-square"></i> <strike><span>Diet Plan Included </span></strike></li>
                                    <li class="py-2"><i class="bi bi-x-square"></i> <strike><span>Latest Scrumptious Recipes</span></strike></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- column  -->
            <!-- column  -->
            <div class="col-md-6">
                <div class="card card-shadow border-0 mb-4">
                    <div class="card-body p-4">
                        <div class="d-flex align-items-center">
                            <h5 class="font-medium m-b-0">Advanced Plan</h5>
                            <div class="ml-auto"><span class="badge badge-danger font-weight-normal p-2">Popular</span></div>

                        </div>
                        <div class="row">
                            <div class="col-lg-5 text-center">
                                <div class="price-box my-3">
                                    <sup>$</sup><span class="text-dark display-5">12</span>
                                    <h6 class="font-weight-light">MONTHLY</h6>
                                    <form method="post">
                                        @if (success.Subscriptiontype == "Advanced"){
                                            <a class="btn green-btn-full-confirmed border-0 font-14 text-white p-3 btn-block mt-3" style="width:100%; opacity: 0.5;">CURRENTLY ACTIVE<i class="bi bi-check2-square"></i></a>

                                        }
                                        else{
                                            <button type="submit" class="btn green-btn-full-confirmed border-0 font-14 text-white p-3 btn-block mt-3" style="width:100%" href="#">CHOOSE PLAN </button>

                                        }

                                    </form>
                                </div>
                            </div>
                            <div class="col-lg-7 align-self-center">
                                <ul class="list-inline pl-3 font-14 font-weight-medium text-dark">
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Upcoming Value Deals </span></li>
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Discount Codes</span></li>
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Diet Plan Included</span></li>
                                    <li class="py-2"><i class="bi bi-check2-square"></i> <span>Latest Scrumptious Recipes</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- column  -->
        </div>
    </div>
</div>